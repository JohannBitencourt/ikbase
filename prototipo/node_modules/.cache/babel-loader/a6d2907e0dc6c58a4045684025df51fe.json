{"ast":null,"code":"import _classCallCheck from \"/workspace/ikbase/prototipo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/workspace/ikbase/prototipo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/workspace/ikbase/prototipo/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/workspace/ikbase/prototipo/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/workspace/ikbase/prototipo/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/workspace/ikbase/prototipo/src/components/PostDetail.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport PostContainer from '../containers/Post';\nimport NotFound from './alert/NotFound';\nimport CommentsListContainer from '../containers/CommentsList';\n\nvar PostDetail =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PostDetail, _Component);\n\n  function PostDetail() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PostDetail);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PostDetail)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      commentCount: 0\n    };\n\n    _this.updatePostCommentsCount = function () {\n      var id = _this.props.match.params.id;\n\n      _this.props.fetchCommentsCount(id, function (data) {\n        _this.setState({\n          commentCount: data.amount\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(PostDetail, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var id = this.props.match.params.id;\n      this.props.fetchPost(id, function () {\n        return false;\n      });\n      this.updatePostCommentsCount();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          post = _this$props.post,\n          deletePost = _this$props.deletePost,\n          category = _this$props.match.params.category;\n      return !post || post.category !== category ? React.createElement(NotFound, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        spacing: 24,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(PostContainer, {\n        key: post.id,\n        post: post,\n        commentCount: this.state.commentCount,\n        onDeletePost: deletePost,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }), React.createElement(CommentsListContainer, {\n        postCategory: post.category,\n        postId: post.id,\n        updatePostCommentsCount: this.updatePostCommentsCount,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return PostDetail;\n}(Component);\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      marginTop: 50,\n      flexGrow: 1\n    },\n    card: {\n      maxWidth: '100%',\n      backgroundColor: '#eeeeee'\n    }\n  };\n};\n\nPostDetail.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(PostDetail);","map":{"version":3,"sources":["/workspace/ikbase/prototipo/src/components/PostDetail.js"],"names":["React","Component","PropTypes","withStyles","Grid","PostContainer","NotFound","CommentsListContainer","PostDetail","state","commentCount","updatePostCommentsCount","id","props","match","params","fetchCommentsCount","data","setState","amount","fetchPost","classes","post","deletePost","category","root","styles","theme","marginTop","flexGrow","card","maxWidth","backgroundColor","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/core/styles'\nimport Grid from '@material-ui/core/Grid'\nimport PostContainer from '../containers/Post'\nimport NotFound from './alert/NotFound'\nimport CommentsListContainer from '../containers/CommentsList'\n\nclass PostDetail extends Component {\n  state = {\n    commentCount: 0\n  }\n\n  componentWillMount() {\n    const { id } = this.props.match.params;\n    this.props.fetchPost(id, () => false);\n    this.updatePostCommentsCount()\n  }\n\n  updatePostCommentsCount = () => {\n    const { id } = this.props.match.params;\n    this.props.fetchCommentsCount(id, (data) => {\n      this.setState({ commentCount: data.amount });\n    });\n  }\n\n  render(){\n    const { classes, post, deletePost, match: { params: { category } } } = this.props\n\n    return(\n      (!post || post.category !== category)\n      ? <NotFound />\n      : <div className={classes.root}>\n          <Grid container spacing={24}>\n\n            <Grid item xs={12}>\n              <Grid item xs={12}>\n                <PostContainer\n                  key={post.id}\n                  post={post}\n                  commentCount={this.state.commentCount}\n                  onDeletePost={deletePost}\n                />\n              </Grid>\n            </Grid>\n\n            <br />\n            <CommentsListContainer\n              postCategory={post.category}\n              postId={post.id}\n              updatePostCommentsCount={this.updatePostCommentsCount}\n            />\n\n        </Grid>\n      </div>\n    );\n  }\n}\n\nconst styles = theme => ({\n  root: {\n    marginTop: 50,\n    flexGrow: 1,\n  },\n  card: {\n    maxWidth: '100%',\n    backgroundColor: '#eeeeee'\n  },\n});\n\nPostDetail.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(PostDetail);\n"]},"metadata":{},"sourceType":"module"}